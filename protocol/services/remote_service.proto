// SPDX-FileCopyrightText: 2025 Carnegie Mellon University - Living Edge Lab
//
// SPDX-License-Identifier: GPL-2.0-only

syntax = "proto3";
package protocol.services.remote_service;

import "google/protobuf/any.proto";

/*
 * Used to control a vehicle remotely over ZeroMQ
 * Not implemented as a gRPC service!
 */
service Remote {
  // Sends a request to one of the core services (Control, Mission, etc.)
  rpc RemoteControl (RemoteControlRequest) returns (RemoteControlResponse) {}
}

message RemoteControlRequest {
  // Since command sequencing is not built-in to ZeroMQ,
  // it must be done manually
  uint32 sequence_number = 1;
  // Contains request data for an RPC call
  google.protobuf.Any control_request = 2;
  // Fully qualified method name
  string method_name = 3;
  // Identity of the sender
  string identity = 4;
}

message RemoteControlResponse {
  // Since command sequencing is not built-in to ZeroMQ,
  // it must be done manually
  uint32 sequence_number = 1;
  // Contains response data for an RPC call
  google.protobuf.Any control_response = 2;
  // Identity of the original sender
  string identity = 3;
}
