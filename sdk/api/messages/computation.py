#####################################################################
# NOTE: THIS FILE IS AUTOGENERATED BY GENERATE_TYPES.PY. DO NOT EDIT!
#####################################################################
from api.base import Datatype
from dataclasses import dataclass

''' Messages '''
@dataclass
class BoundingBox(Datatype):
    '''Defines the upper left and lower right corners of a detected object in an image frame. Origin (0,0) is the top left corner of the input image. (image_height, image_width) is the bottom right corner. Also the class and confidence threshold associated with the box.'''
    y_min: float
    '''wrt to image size'''
    x_min: float
    '''wrt to image size'''
    y_max: float
    '''wrt to image size'''
    x_max: float
    '''wrt to image size'''
    class_name: str
    
    confidence: float
    

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.BoundingBox'

@dataclass
class HSV(Datatype):
    '''Color filter represented by hue, saturation, and value Uses OpenCV ranges: https://docs.opencv.org/4.x/df/d9d/tutorial_py_colorspaces.html'''
    h: int
    '''hue range is [0,179]'''
    s: int
    '''saturation range is [0,255]'''
    v: int
    '''value range is [0,255]'''

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.HSV'

@dataclass
class FrameResult(Datatype):
    '''Compute results generated by datasink modules'''
    type: str
    
    frame_id: int
    '''For correlation'''
    result: ComputeResult
    

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.FrameResult'

@dataclass
class Detection(Datatype):

    detection_id: int
    '''Can be multiple objects per frame'''
    class_name: str
    
    score: float
    
    bbox: BoundingBox
    
    hsv_filter_passed: bool
    

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.Detection'

@dataclass
class DetectionResult(Datatype):

    detections: Detection
    

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.DetectionResult'

@dataclass
class AvoidanceResult(Datatype):

    actuation_vector: float
    '''Actuation vector towards safe area'''

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.AvoidanceResult'

@dataclass
class SLAMResult(Datatype):

    relative_position: Position
    
    global_position: Location
    

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.SLAMResult'

@dataclass
class ComputeResult(Datatype):

    timestamp: Timestamp
    '''Inference timestamp'''
    engine_name: str
    
    detection_result: DetectionResult
    
    avoidance_result: AvoidanceResult
    
    slam_result: SLAMResult
    
    generic_result: str
    '''JSON result'''

    def get_type_url():
        return 'type.googleapis.com/steeleagle.protocol.messages.result.ComputeResult'
